"use strict";(self.webpackChunkreact_app_tweets=self.webpackChunkreact_app_tweets||[]).push([[362],{362:function(n,r,t){t.r(r),t.d(r,{default:function(){return D}});var e,a,o,i,s,c,u,p,d,l=t(165),x=t(433),f=t(861),g=t(439),b=t(791),h=t(985),m=t.n(h),w=t(14),Z=t(634),v=t(168),k=t(924),j=k.ZP.li(e||(e=(0,v.Z)(["\n  position: relative;\n  padding-top: 178px;\n  padding-bottom: 36px;\n  width: 380px;\n  /* flex-basis: calc((100% - 60px) / 3); */\n  background: linear-gradient(114.99deg, #471ca9 -0.99%, #5736a3 54.28%, #4b2a99 78.99%);\n  box-shadow: -2.5777px 6.87386px 20.6216px rgba(0, 0, 0, 0.23);\n  border-radius: 20px;\n"]))),y=k.ZP.img(a||(a=(0,v.Z)(["\n  position: absolute;\n  left: 20px;\n  top: 20px;\n"]))),P=k.ZP.img(o||(o=(0,v.Z)(["\n  position: absolute;\n  left: 36px;\n  top: 28px;\n"]))),S=k.ZP.div(i||(i=(0,v.Z)(["\n  position: absolute;\n  width: 100%;\n  height: 8px;\n  left: 0px;\n  top: 214px;\n  background: #ebd8ff;\n  box-shadow: 0px 3.43693px 3.43693px rgba(0, 0, 0, 0.06), inset 0px -1.71846px 3.43693px #ae7be3,\n    inset 0px 3.43693px 2.5777px #fbf8ff;\n"]))),z=k.ZP.div(s||(s=(0,v.Z)(["\n  position: relative;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  width: 80px;\n  height: 80px;\n  margin: 0 auto;\n  margin-bottom: 26px;\n  border-radius: 50%;\n\n  background-position: center;\n  background-repeat: no-repeat;\n  background-size: cover;\n  background-image: url(",");\n  background-color: #5736a3;\n  box-shadow: 0px 4.39163px 4.39163px rgba(0, 0, 0, 0.06);\n"])),(function(n){return n.avatarimg})),C=k.ZP.img(c||(c=(0,v.Z)(["\n  object-fit: cover;\n  border-radius: 50%;\n"]))),F=k.ZP.p(u||(u=(0,v.Z)(["\n  font-weight: 500;\n  font-size: 20px;\n  line-height: 1.2;\n  text-align: center;\n  text-transform: uppercase;\n  color: #ebd8ff;\n  &:not(:last-child) {\n    margin-bottom: 16px;\n  }\n"]))),L=k.ZP.button(p||(p=(0,v.Z)(["\n  display: block;\n  min-width: 196px;\n  padding: 14px 28px;\n  border-radius: 10.3px;\n  border-color: rgba(0, 0, 0, 0);\n  border-width: 0px;\n  margin-top: 26px;\n  margin-left: auto;\n  margin-right: auto;\n  box-shadow: 0px 3.43693px 3.43693px rgba(0, 0, 0, 0.25);\n\n  background-color: #ebd8ff;\n  color: #373737;\n  font-family: inherit;\n  font-weight: 600;\n  font-size: 18px;\n  line-height: 1.22;\n  text-transform: uppercase;\n  cursor: pointer;\n  transition: background-color 250ms cubic-bezier(0.4, 0, 0.2, 1);\n  &:hover,\n  :focus {\n    background-color: #c26aff;\n  }\n"]))),_=k.ZP.button(d||(d=(0,v.Z)(["\n  display: block;\n  min-width: 196px;\n  padding: 14px 28px;\n  border-radius: 10.3px;\n  border-color: rgba(0, 0, 0, 0);\n  border-width: 0px;\n  margin-top: 26px;\n  margin-left: auto;\n  margin-right: auto;\n  box-shadow: 0px 3.43693px 3.43693px rgba(0, 0, 0, 0.25);\n\n  background-color: #5cd3a8;\n  color: #373737;\n  font-family: inherit;\n  font-weight: 600;\n  font-size: 18px;\n  line-height: 1.22;\n  text-transform: uppercase;\n  cursor: pointer;\n  transition: background-color 250ms cubic-bezier(0.4, 0, 0.2, 1);\n  &:hover,\n  :focus {\n    background-color: #c26aff;\n  }\n"])));var U=t.p+"static/media/Logo.e917114d7945c04c85a8946a331d28b6.svg";var B=t.p+"static/media/bg-pic.23dcbc3cc8ccc9682f24b4acffb5efb2.svg";var E=t.p+"static/media/avatar-stroke.802a4dfd60e26327f61238cddaf4addb.svg";var I=t(243);I.Z.defaults.baseURL="https://64693df203bb12ac20890358.mockapi.io";var O,R,A=function(){var n=(0,f.Z)((0,l.Z)().mark((function n(r,t){var e;return(0,l.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,I.Z.get("/users",{signal:r,params:{page:t,limit:3}});case 2:return e=n.sent,n.abrupt("return",e.data);case 4:case"end":return n.stop()}}),n)})));return function(r,t){return n.apply(this,arguments)}}(),G=function(){var n=(0,f.Z)((0,l.Z)().mark((function n(r,t,e){var a;return(0,l.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,I.Z.put("/users/".concat(Number(r)),{followers:t,isFollowingState:e});case 2:return a=n.sent,n.abrupt("return",a.data);case 4:case"end":return n.stop()}}),n)})));return function(r,t,e){return n.apply(this,arguments)}}(),M=t(184),N=function(n){var r=n.userInfo,t=r.user,e=r.tweets,a=r.followers,o=r.avatar,i=r.id,s=r.isFollowingState,c=(0,b.useState)(a),u=(0,g.Z)(c,2),p=u[0],d=u[1],x=(0,b.useState)(s),h=(0,g.Z)(x,2),m=h[0],Z=h[1],v=(0,b.useRef)(!1);(0,b.useEffect)((function(){if(v.current){var n=function(){var n=(0,f.Z)((0,l.Z)().mark((function n(){return(0,l.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,G(i,p,m);case 3:n.next=8;break;case 5:n.prev=5,n.t0=n.catch(0),w.ZP.error("You cannot following this user now. Please try it again later.");case 8:case"end":return n.stop()}}),n,null,[[0,5]])})));return function(){return n.apply(this,arguments)}}();n()}else v.current=!0}),[p,i,m]);var k,I=function(){m?(Z(!1),d((function(n){return n-1}))):(Z(!0),d((function(n){return n+1})))};return(0,M.jsxs)(M.Fragment,{children:[(0,M.jsx)(w.x7,{position:"top-right",reverseOrder:!1}),(0,M.jsxs)(j,{children:[(0,M.jsx)(y,{src:U,alt:"Logo",width:"76"}),(0,M.jsx)(P,{src:B,alt:"Background image",width:"308"}),(0,M.jsx)(S,{}),(0,M.jsx)(z,{avatarimg:E,children:(0,M.jsx)(C,{src:o,alt:"User avatar",width:"62",height:"62",loading:"lazy"})}),(0,M.jsxs)(F,{children:[" ",t," "]}),(0,M.jsxs)(F,{children:[" ",e," tweets"]}),(0,M.jsxs)(F,{children:[(k=p,k.toString().replace(/(\d)(?=(\d{3})+(?!\d))/g,"$1,"))," Followers"]}),m?(0,M.jsx)(_,{type:"button",onClick:I,children:"Following"}):(0,M.jsx)(L,{type:"button",onClick:I,children:"Follow"})]})]})},T=k.ZP.ul(O||(O=(0,v.Z)(["\n  display: flex;\n  flex-wrap: wrap;\n  list-style: none;\n  gap: 48px;\n"]))),W=function(n){var r=n.userCards;return(0,M.jsx)(T,{children:r.map((function(n){return(0,M.jsx)(N,{userInfo:n},n.id)}))})},Y=k.ZP.button(R||(R=(0,v.Z)(["\n  display: block;\n  min-width: 196px;\n  padding: 14px 28px;\n  border-radius: 10.3px;\n  border-color: rgba(0, 0, 0, 0);\n  border-width: 0px;\n  margin-top: 26px;\n  margin-left: auto;\n  margin-right: auto;\n  box-shadow: 0px 3.43693px 3.43693px rgba(0, 0, 0, 0.25);\n\n  background-color: #5736a3;\n  color: #ebd8ff;\n  font-family: inherit;\n  font-weight: 600;\n  font-size: 18px;\n  line-height: 1.22;\n  text-transform: uppercase;\n  cursor: pointer;\n  transition: background-color 250ms cubic-bezier(0.4, 0, 0.2, 1);\n  &:hover,\n  :focus {\n    background-color: #ebd8ff;\n    color: #373737;\n  }\n"]))),$=function(n){var r=n.nextPage;return(0,M.jsx)(Y,{type:"button",onClick:function(){r()},children:"Load more"})},q=t(87),D=function(){var n=(0,b.useState)([]),r=(0,g.Z)(n,2),t=r[0],e=r[1],a=(0,b.useState)(!1),o=(0,g.Z)(a,2),i=o[0],s=o[1],c=(0,b.useState)(!1),u=(0,g.Z)(c,2),p=u[0],d=u[1],h=(0,b.useState)(1),v=(0,g.Z)(h,2),k=v[0],j=v[1];(0,b.useEffect)((function(){var n=new AbortController,r=n.signal;function t(){return(t=(0,f.Z)((0,l.Z)().mark((function n(){var t;return(0,l.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return d(!0),n.prev=1,n.next=4,A(r,k);case 4:(t=n.sent).length>0?e((function(n){return[].concat((0,x.Z)(n),(0,x.Z)(t))})):(w.ZP.error("Sorry, there are no tweets match your search."),s(!0)),n.next=14;break;case 8:if(n.prev=8,n.t0=n.catch(1),"canceled"!==n.t0.message){n.next=12;break}return n.abrupt("return");case 12:w.ZP.error("Tweets not found. Please try it again later."),s(!0);case 14:d(!1);case 15:case"end":return n.stop()}}),n,null,[[1,8]])})))).apply(this,arguments)}return function(){t.apply(this,arguments)}(),function(){n.abort()}}),[k]);return(0,M.jsxs)(M.Fragment,{children:[(0,M.jsx)(w.x7,{position:"top-right",reverseOrder:!1}),(0,M.jsx)(Z.W2,{children:(0,M.jsxs)("main",{children:[(0,M.jsx)(q.rU,{to:"/",children:(0,M.jsx)(Z.MB,{children:"\u2190 Go back"})}),t.length>0&&(0,M.jsx)(W,{userCards:t}),(0,M.jsx)(Z.sb,{children:(0,M.jsx)(m(),{color:"#3737d7",loading:p,height:70,margin:6,radius:9,width:6})}),!p&&!i&&t.length%3===0&&(0,M.jsx)($,{nextPage:function(){j((function(n){return n+1}))}})]})})]})}}}]);
//# sourceMappingURL=362.59797b44.chunk.js.map